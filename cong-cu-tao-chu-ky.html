<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Công Cụ Tạo Chữ Ký</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Allura&family=Amatic+SC&family=Beth+Ellen&family=Bilbo+Swash+Caps&family=Caveat&family=Cedarville+Cursive&family=Clicker+Script&family=Covered+By+Your+Grace&family=Courgette&family=Cutive+Mono&family=Damion&family=Dancing+Script&family=Euphoria+Script&family=Fasthand&family=Great+Vibes&family=Homemade+Apple&family=Inspiration&family=Kalam&family=La+Belle+Aurore&family=Leckerli+One&family=Liu+Jian+Mao+Cao&family=Lobster&family=Luxurious+Roman&family=Marck+Script&family=Meow+Script&family=Monsieur+La+Doulaise&family=Nanum+Pen+Script&family=Nothing+You+Could+Do&family=Norican&family=Oooh+Baby&family=Over+the+Rainbow&family=Pacifico&family=Parisienne&family=Pinyon+Script&family=Pompiere&family=Qwitcher+Grypen&family=Rancho&family=Redressed&family=Reenie+Beanie&family=Rochester&family=Sacramento&family=Satisfy&family=Shadows+Into+Light&family=Shizuru&family=Sue+Ellen+Francisco&family=Sura&family=Tangerine&family=The+Girl+Next+Door&family=Vibes&family=Vujahday+Script&family=Whisper&family=Wire+One&family=Yuji+Boku+Font&family=Yesteryear&family=Zeyada&display=swap" rel="stylesheet">
    <style>
        /* ==================== CÁC BIẾN VÀ THIẾT LẬP CHUNG ==================== */
        :root {
            --bg-color: #12121e;
            --main-color: #f72585; /* Hồng neon */
            --accent-color: #4361ee; /* Xanh dương */
            --card-bg: #1e1e2d;
            --border-color: #2b2b3b;
            --text-color: #f0f0f0;
            --secondary-text-color: #a0a0a0;
            --button-success: #52b788;
            --button-danger: #e63964;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            padding-bottom: 60px;
        }

        h1, h2, h3, h4 {
            font-family: 'Poppins', sans-serif;
            color: var(--main-color);
            text-align: center;
            font-weight: 600;
        }
        
        /* ==================== HEADER & FOOTER ==================== */
        header.header-container {
            background-color: var(--card-bg);
            padding: 40px 20px 20px;
            text-align: center;
            border-bottom: 3px solid var(--accent-color);
            position: relative;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        header.header-container h1 {
            font-size: 2.5em;
            font-weight: 700;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
            animation: none;
        }
        
        footer {
            background-color: var(--card-bg);
            text-align: center;
            padding: 20px;
            color: var(--secondary-text-color);
            border-top: 2px solid var(--accent-color);
        }

        /* ==================== GIAO DIỆN CHÍNH CỦA CÔNG CỤ ==================== */
        .signature-container {
            max-width: 900px;
            margin: 30px auto;
            padding: 40px;
            text-align: center;
            background-color: var(--card-bg);
            border-radius: 15px;
            border: 2px solid;
            border-image: linear-gradient(45deg, var(--main-color), var(--accent-color)) 1;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group input {
            width: 80%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: 1.2em;
            text-align: center;
        }

        .signature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .signature-item {
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .signature-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .signature-item.selected {
            border-color: var(--main-color);
            box-shadow: 0 0 10px var(--main-color);
        }
        
        .signature-text {
            min-height: 50px;
            font-size: 2.5em;
            word-wrap: break-word;
            line-height: 1.2;
            color: var(--text-color);
        }

        .download-btn {
            background-color: var(--accent-color);
            color: var(--text-color);
            padding: 12px 25px;
            border-radius: 25px;
            border: none;
            cursor: pointer;
            margin-top: 30px;
            font-weight: 600;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
        }
        
        .download-btn:hover {
            background-color: var(--main-color);
        }

        /* ==================== MEDIA QUERIES (RESPONSIVE) ==================== */
        @media (max-width: 768px) {
            .signature-container {
                padding: 20px;
            }
            .signature-text {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <header class="header-container">
        <h1>Công Cụ Tạo Chữ Ký</h1>
        <p>Chọn một font chữ độc đáo để tạo chữ ký của riêng bạn</p>
    </header>

    <main>
        <div class="signature-container">
            <h2>Nhập Tên Của Bạn</h2>
            <div class="input-group">
                <input type="text" id="name-input" placeholder="Nhập tên">
            </div>

            <div id="signature-grid" class="signature-grid">
                </div>
            
            <button id="download-btn" class="download-btn" style="display: none;">Tải Xuống Chữ Ký</button>
        </div>
    </main>

    <footer>
        <p>© 2025 Creative Hub. Bản quyền thuộc về Js Trung Kiên.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const nameInput = document.getElementById('name-input');
            const signatureGrid = document.getElementById('signature-grid');
            const downloadBtn = document.getElementById('download-btn');

            const signatureFonts = [
                'Alex Brush', 'Allura', 'Amatic SC', 'Beth Ellen', 'Bilbo Swash Caps',
                'Caveat', 'Cedarville Cursive', 'Clicker Script', 'Covered By Your Grace',
                'Courgette', 'Cutive Mono', 'Damion', 'Dancing Script', 'Euphoria Script',
                'Fasthand', 'Great Vibes', 'Homemade Apple', 'Inspiration',
                'Kalam', 'La Belle Aurore', 'Leckerli One', 'Liu Jian Mao Cao',
                'Lobster', 'Luxurious Roman', 'Marck Script', 'Meow Script',
                'Monsieur La Doulaise', 'Nanum Pen Script', 'Nothing You Could Do',
                'Norican', 'Oooh Baby', 'Over the Rainbow', 'Pacifico', 'Parisienne',
                'Pinyon Script', 'Pompiere', 'Qwitcher Grypen', 'Rancho', 'Redressed',
                'Reenie Beanie', 'Rochester', 'Sacramento', 'Satisfy', 'Shadows Into Light',
                'Shizuru', 'Sue Ellen Francisco', 'Sura', 'Tangerine', 'The Girl Next Door',
                'Vibes', 'Vujahday Script', 'Whisper', 'Wire One', 'Yuji Boku Font',
                'Yesteryear', 'Zeyada'
            ];
            
            let selectedSignature = null;
            
            function renderSignatures() {
                signatureGrid.innerHTML = '';
                const name = nameInput.value || 'Chữ ký';
                signatureFonts.forEach(font => {
                    const item = document.createElement('div');
                    item.classList.add('signature-item');
                    item.dataset.font = font;
                    item.innerHTML = `
                        <div class="signature-text" style="font-family: '${font}', cursive;">${name}</div>
                        <p>${font}</p>
                    `;
                    signatureGrid.appendChild(item);
                });
            }

            async function downloadSignature() {
                if (!selectedSignature) {
                    alert('Vui lòng chọn một kiểu chữ ký trước.');
                    return;
                }
                
                const text = selectedSignature.textContent;
                const font = selectedSignature.dataset.font;
                
                downloadBtn.textContent = 'Đang chuẩn bị...';
                downloadBtn.disabled = true;

                // Tạo một Promise để chờ font load xong
                await document.fonts.load(`60px "${font}"`);

                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                ctx.font = `60px "${font}"`;
                const metrics = ctx.measureText(text);
                const textWidth = metrics.width;
                const textHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;
                
                canvas.width = textWidth + 40;
                canvas.height = textHeight + 40;
                
                ctx.font = `60px "${font}"`;
                ctx.fillStyle = '#000000';
                ctx.fillText(text, 20, textHeight + 20);
                
                const dataURL = canvas.toDataURL('image/png');
                const link = document.createElement('a');
                link.href = dataURL;
                link.download = `chu-ky-${font}.png`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);

                downloadBtn.textContent = 'Tải Xuống Chữ Ký';
                downloadBtn.disabled = false;
            }

            function selectSignature(event) {
                document.querySelectorAll('.signature-item').forEach(item => item.classList.remove('selected'));
                
                const selectedItem = event.target.closest('.signature-item');
                if (selectedItem) {
                    selectedItem.classList.add('selected');
                    selectedSignature = selectedItem.querySelector('.signature-text');
                    downloadBtn.style.display = 'block';
                }
            }
            
            nameInput.addEventListener('input', (e) => {
                const name = e.target.value || 'Chữ ký';
                document.querySelectorAll('.signature-text').forEach(sig => {
                    sig.textContent = name;
                });
            });
            
            signatureGrid.addEventListener('click', selectSignature);

            downloadBtn.addEventListener('click', downloadSignature);
            
            renderSignatures();
        });
    </script>
</body>
</html>